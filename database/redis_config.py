"""
Конфигурационный файл для Redis
Этот файл содержит настройки подключения к Redis и общие настройки кэширования
"""

# Настройки подключения к Redis
REDIS_CONFIG = {
    # Настройки соединения
    "host": "redis-14212.crce198.eu-central-1-3.ec2.redns.redis-cloud.com",           # Хост Redis сервера
    "port": 14212,                  # Порт Redis сервера
    "password": "6KZaKD5XKMEcaS73hBUY8gc2zgzbucFe", # Пароль Redis
    "db": 0,                       # Номер базы данных Redis
    "decode_responses": True,      # Автоматически декодировать ответы
    "socket_timeout": 5,           # Таймаут сокета (в секундах)
    "socket_connect_timeout": 3,   # Таймаут соединения (в секундах)
    
    # Настройки пула соединений
    "connection_pool": {
        "max_connections": 100,    # Максимальное количество соединений в пуле
        "health_check_interval": 30 # Интервал проверки состояния соединений (в секундах)
    },
    
    # Настройки повторных попыток подключения
    "retry_on_timeout": True,      # Повторять попытку при таймауте
    "retry_on_error": [            # Список ошибок, на которых нужно повторять попытку
        "ECONNREFUSED",
        "ECONNRESET",
        "ETIMEDOUT"
    ],
    "max_retries": 3,              # Максимальное количество повторных попыток
    "retry_delay": 0.5             # Задержка между повторными попытками (в секундах)
}

# Настройки кэширования для разных типов данных
CACHE_SETTINGS = {
    "profile": {
        "ttl": 300,                # Время жизни кэша профиля (в секундах)
        "key_prefix": "profile:"   # Префикс ключа для кэша профиля
    },
    "notifications": {
        "ttl": 60,                 # Время жизни кэша уведомлений (в секундах)
        "key_prefix": "notifications:" # Префикс ключа для кэша уведомлений
    },
    "orders": {
        "ttl": 180,                # Время жизни кэша заказов (в секундах)
        "key_prefix": "orders:"    # Префикс ключа для кэша заказов
    },
    "system": {
        "ttl": 3600,               # Время жизни системного кэша (в секундах)
        "key_prefix": "system:"    # Префикс ключа для системного кэша
    }
}

# Логирование
REDIS_LOGGING = {
    "enabled": True,               # Включить логирование Redis операций
    "level": "INFO",               # Уровень логирования
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s" # Формат логов
}
